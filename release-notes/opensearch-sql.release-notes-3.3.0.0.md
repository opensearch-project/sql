## Version 3.3.0 Release Notes

Compatible with OpenSearch and OpenSearch Dashboards version 3.3.0

### Features
* Change the default search sort tiebreaker to `_shard_doc` for PIT search ([#4378](https://github.com/opensearch-project/sql/pull/4378))
* Support direct query data sources ([#4375](https://github.com/opensearch-project/sql/pull/4375))
* Enable Calcite by default and implicit fallback the unsupported commands ([#4372](https://github.com/opensearch-project/sql/pull/4372))
* Enhance the cost computing mechanism and push down context ([#4353](https://github.com/opensearch-project/sql/pull/4353))
* Add error handling for known limitation of sql `JOIN` ([#4344](https://github.com/opensearch-project/sql/pull/4344))
* Optimize count aggregation performance by utilizing native doc_count in v3 ([#4337](https://github.com/opensearch-project/sql/pull/4337))
* Date/Time based Span aggregation should always not present null bucket ([#4327](https://github.com/opensearch-project/sql/pull/4327))
* Add non-numeric field support for max/min functions ([#4281](https://github.com/opensearch-project/sql/pull/4281))
* Push down project operator with non-identity projections into scan ([#4279](https://github.com/opensearch-project/sql/pull/4279))
* Add  `values` stats function with UDAF ([#4276](https://github.com/opensearch-project/sql/pull/4276))
* Support ISO8601-formatted string in PPL ([#4246](https://github.com/opensearch-project/sql/pull/4246))
* Push down limit operator into aggregation bucket size ([#4228](https://github.com/opensearch-project/sql/pull/4228))
* Support time modifiers in search command ([#4224](https://github.com/opensearch-project/sql/pull/4224))
* Support first/last aggregate functions for PPL ([#4223](https://github.com/opensearch-project/sql/pull/4223))
* `mvjoin` support in PPL Caclite ([#4217](https://github.com/opensearch-project/sql/pull/4217))
* Enable pushdown optimization for filtered aggregation ([#4213](https://github.com/opensearch-project/sql/pull/4213))
* Pushdown earliest/latest aggregate functions ([#4166](https://github.com/opensearch-project/sql/pull/4166))
* Add support for `list()` multi-value stats function ([#4161](https://github.com/opensearch-project/sql/pull/4161))
* [Enhancement] Enhance patterns command with additional sample_logs output field ([#4155](https://github.com/opensearch-project/sql/pull/4155))
* Search command revamp. ([#4152](https://github.com/opensearch-project/sql/pull/4152))
* Add shortcut for count() ([#4142](https://github.com/opensearch-project/sql/pull/4142))
* Starter implementation for `spath` command ([#4120](https://github.com/opensearch-project/sql/pull/4120))
* strftime function implementation ([#4106](https://github.com/opensearch-project/sql/pull/4106))
* Add regex_match function for PPL with Calcite engine support ([#4092](https://github.com/opensearch-project/sql/pull/4092))
* Support distinct_count/dc in eventstats ([#4084](https://github.com/opensearch-project/sql/pull/4084))
* Add wildcard support for rename command ([#4019](https://github.com/opensearch-project/sql/pull/4019))
* Support timechart command with Calcite ([#3993](https://github.com/opensearch-project/sql/pull/3993))
* SUM aggregation enhancement on operations with literal ([#3971](https://github.com/opensearch-project/sql/pull/3971))
* Support join field list and join options ([#3803](https://github.com/opensearch-project/sql/pull/3803))
* Speed up aggregation pushdown for single group-by expression ([#3550](https://github.com/opensearch-project/sql/pull/3550))
* Add max/min eval functions ([#4333](https://github.com/opensearch-project/sql/pull/4333))
* Implementation of mode `sed` and `offset_field` in rex PPL command ([#4241](https://github.com/opensearch-project/sql/pull/4241))
* Add earliest/latest aggregate function for eventstats PPL command ([#4212](https://github.com/opensearch-project/sql/pull/4212))
* Core Implementation of `rex` Command In PPL ([#4109](https://github.com/opensearch-project/sql/pull/4109))
* Implementation of `regex` Command In PPL ([#4083](https://github.com/opensearch-project/sql/pull/4083))

### Bug Fixes
* Fix the `count(*)` and `dc(field)` to be capped at MAX_INTEGER #4416 ([#4418](https://github.com/opensearch-project/sql/pull/4418))
* Mod function should return decimal instead of float when handle the operands are decimal literal ([#4407](https://github.com/opensearch-project/sql/pull/4407))
* Fix numbered token bug and make it optional output in patterns command ([#4402](https://github.com/opensearch-project/sql/pull/4402))
* Scale of decimal literal should always be positive in Calcite ([#4401](https://github.com/opensearch-project/sql/pull/4401))
* Fix bug of missed analyzed node when pushdown filter for Search call ([#4388](https://github.com/opensearch-project/sql/pull/4388))
* Fix parse related functions return behavior in case of NULL input ([#4381](https://github.com/opensearch-project/sql/pull/4381))
* Prevent limit pushdown before action building instead of in action executing ([#4377](https://github.com/opensearch-project/sql/pull/4377))
* No index found with given index pattern should throw IndexNotFoundException ([#4369](https://github.com/opensearch-project/sql/pull/4369))
* Fix `ClassCastException` for value-storing aggregates on nested PPL fields ([#4360](https://github.com/opensearch-project/sql/pull/4360))
* change Anonymizer to mask PPL ([#4352](https://github.com/opensearch-project/sql/pull/4352))
* Fix alphanumeric search which starts with number ([#4334](https://github.com/opensearch-project/sql/pull/4334))
* Push down stats with bins on time field into auto_date_histogram ([#4329](https://github.com/opensearch-project/sql/pull/4329))
* Fix geopoint issue in complex data types ([#4325](https://github.com/opensearch-project/sql/pull/4325))
* Support serializing & deserializing UDTs when pushing down scripts ([#4245](https://github.com/opensearch-project/sql/pull/4245))
* Bugfix: SQL type mapping for legacy JDBC output ([#3613](https://github.com/opensearch-project/sql/pull/3613))

### Infrastructure
* Spotless precommit: apply instead of check ([#4320](https://github.com/opensearch-project/sql/pull/4320))
* Add spotless precommit hook + license check ([#4306](https://github.com/opensearch-project/sql/pull/4306))
* Fix doctest branch ([#4292](https://github.com/opensearch-project/sql/pull/4292))
* Doctest: Use 1.0 branch of CLI instead of main ([#4219](https://github.com/opensearch-project/sql/pull/4219))
* Add merge_group trigger to test workflows ([#4216](https://github.com/opensearch-project/sql/pull/4216))
* Split up our test actions into unit, integ, and doctest. ([#4193](https://github.com/opensearch-project/sql/pull/4193))

### Documentation
* Update bin.rst and add `bin` to doctest ([#4384](https://github.com/opensearch-project/sql/pull/4384))
* Update timechart in SPL/PPL cheat sheet ([#4382](https://github.com/opensearch-project/sql/pull/4382))
* Enable doctest with Calcite ([#4379](https://github.com/opensearch-project/sql/pull/4379))
* Correct the comparision table for rex doc ([#4321](https://github.com/opensearch-project/sql/pull/4321))
* Updating coalesce documentation ([#4305](https://github.com/opensearch-project/sql/pull/4305))
* Updating documentation for `fields` and `table` commands ([#4177](https://github.com/opensearch-project/sql/pull/4177))
* Add documents on how to develop a UDF / UDAF ([#4094](https://github.com/opensearch-project/sql/pull/4094))
* Add splunk to ppl cheat sheet ([#3726](https://github.com/opensearch-project/sql/pull/3726))

### Maintenance
* Avoid unnecessary security plugin download in integ-test ([#4368](https://github.com/opensearch-project/sql/pull/4368))
* Fix timezone dependent test failures ([#4367](https://github.com/opensearch-project/sql/pull/4367))
* Update grammar files and developer guide ([#4301](https://github.com/opensearch-project/sql/pull/4301))
* Introduce YAML formatter for better testing/debugging ([#4274](https://github.com/opensearch-project/sql/pull/4274))
* Print links to test logs after integTest ([#4273](https://github.com/opensearch-project/sql/pull/4273))
* Fix the IT issue caused by merging conflict ([#4270](https://github.com/opensearch-project/sql/pull/4270))
* Fix gitignore to ignore symbolic link ([#4263](https://github.com/opensearch-project/sql/pull/4263))
* Add gitignore for Cline ([#4258](https://github.com/opensearch-project/sql/pull/4258))
* Add Ryan as a maintainer ([#4257](https://github.com/opensearch-project/sql/pull/4257))
